{
  "meta": {
    "lastTouchedVersion": "2026.2.16",
    "lastTouchedAt": "2026-02-18T17:46:21.047Z"
  },
  "wizard": {
    "lastRunAt": "2026-02-18T17:46:21.007Z",
    "lastRunVersion": "2026.2.16",
    "lastRunCommand": "doctor",
    "lastRunMode": "local"
  },
  "logging": {
    "redactSensitive": "tools"
  },
  "auth": {
    "profiles": {
      "xai:default": {
        "provider": "xai",
        "mode": "api_key"
      }
    }
  },
  "models": {
    "mode": "merge",
    "providers": {
      "xai": {
        "baseUrl": "https://api.x.ai/v1",
        "apiKey": "${XAI_API_KEY}",
        "api": "openai-responses",
        "models": [
          {
            "id": "grok-4-1-fast-non-reasoning",
            "name": "Grok 4.1 Fast"
          },
          {
            "id": "grok-4-1-fast-reasoning",
            "name": "Grok 4.1 Fast Reasoning"
          }
        ]
      }
    }
  },
  "agents": {
    "defaults": {
      "model": {
        "primary": "xai/grok-4-1-fast-reasoning",
        "fallbacks": ["xai/grok-4-1-fast-non-reasoning"]
      },
      "models": {
        "xai/grok-4-1-fast-reasoning": { "alias": "grok-reasoning" },
        "xai/grok-4-1-fast-non-reasoning": { "alias": "grok-non-reasoning" }
      },
      "workspace": "/home/node/.openclaw/workspace",
      "contextPruning": {
        "mode": "cache-ttl",
        "ttl": "12h",
        "keepLastAssistants": 3,
        "softTrimRatio": 0.3,
        "hardClearRatio": 0.5
      },
      "compaction": {
        "mode": "default",
        "memoryFlush": {
          "enabled": true,
          "softThresholdTokens": 40000,
          "prompt": "Extract key decisions, state changes, lessons, blockers to memory/YYYY-MM-DD.md. Format: ## [HH:MM] Topic. Skip routine work. NO_FLUSH if nothing important.",
          "systemPrompt": "Compacting session context. Extract only what's worth remembering. No fluff."
        }
      },
      "subagents": {
        "model": "xai/grok-4-1-fast-reasoning"
      },
      "sandbox": {
        "mode": "non-main",
        "workspaceAccess": "none",
        "scope": "agent",
        "docker": {
          "image": "openclaw-custom:latest",
          "readOnlyRoot": true,
          "network": "none",
          "user": "1000:1000",
          "capDrop": ["ALL"],
          "cpus": 1,
          "binds": ["/var/lib/openclaw:/home/node/.openclaw:ro"],
          "env": {
            "HOME": "/home/node",
            "OPENCLAW_HOME": "/home/node",
            "OPENCLAW_STATE_DIR": "/home/node/.openclaw",
            "OPENCLAW_CONFIG_PATH": "/home/node/.openclaw/openclaw.json"
          }
        },
        "browser": {
          "enabled": true
        }
      },
      "memorySearch": {
        "provider": "gemini",
        "model": "gemini-embedding-001",
        "remote": {
          "apiKey": "${GEMINI_API_KEY}"
        }
      }
    },
    "list": [
      {
        "id": "main",
        "sandbox": { "mode": "off" },
        "tools": {
          "profile": "full",
          "deny": ["group:web", "group:email", "group:messaging", "group:ui"]
        },
        "subagents": { "allowAgents": ["*"] }
      },
      {
        "id": "researcher",
        "workspace": "/home/node/.openclaw/workspace/sub-agents/researcher",
        "memorySearch": { "enabled": false },
        "sandbox": {
          "workspaceAccess": "ro",
          "docker": {
            "network": "bridge",
            "env": {
              "BRAVE_API_KEY": "${BRAVE_API_KEY}",
              "GOOGLE_PLACES_API_KEY": "${GOOGLE_PLACES_API_KEY}"
            }
          }
        },
        "tools": {
          "allow": [
            "group:web",
            "read",
            "group:memory",
            "sessions_list",
            "session_status"
          ]
        },
        "identity": { "name": "Researcher" }
      },
      {
        "id": "communicator",
        "workspace": "/home/node/.openclaw/workspace/sub-agents/communicator",
        "sandbox": {
          "workspaceAccess": "rw",
          "docker": {
            "network": "bridge",
            "env": {
              "MATON_API_KEY": "${MATON_API_KEY}",
              "TELEGRAM_BOT_TOKEN": "${TELEGRAM_BOT_TOKEN}"
            }
          }
        },
        "tools": {
          "allow": [
            "group:messaging",
            "group:email",
            "write",
            "read",
            "sessions_list",
            "session_status"
          ]
        },
        "identity": { "name": "Communicator" }
      },
      {
        "id": "controller",
        "workspace": "/home/node/.openclaw/workspace/sub-agents/controller",
        "sandbox": {
          "workspaceAccess": "ro",
          "docker": {
            "env": { "HA_URL": "${HA_URL}", "HA_TOKEN": "${HA_TOKEN}" }
          }
        },
        "tools": {
          "allow": [
            "group:ha",
            "mcp",
            "read",
            "sessions_list",
            "session_status"
          ]
        },
        "identity": { "name": "Controller" }
      }
    ]
  },
  "tools": {
    "sandbox": {
      "tools": {
        "allow": [
          "exec",
          "process",
          "read",
          "write",
          "edit",
          "apply_patch",
          "sessions_list",
          "sessions_history",
          "sessions_send",
          "sessions_spawn",
          "session_status"
        ],
        "deny": [
          "browser",
          "canvas",
          "nodes",
          "cron",
          "gateway",
          "telegram",
          "whatsapp",
          "discord",
          "irc",
          "googlechat",
          "slack",
          "signal",
          "imessage"
        ]
      }
    },
    "elevated": {
      "enabled": true,
      "allowFrom": {
        "main": ["*"],
        "telegram": ["${TELEGRAM_ADMIN_ID}"]
      }
    },
    "exec": { "ask": "off", "security": "full" },
    "web": {
      "search": {
        "enabled": true,
        "maxResults": 5
      },
      "fetch": {
        "enabled": true,
        "maxChars": 50000
      }
    }
  },
  "messages": {
    "ackReactionScope": "group-mentions",
    "tts": {
      "auto": "inbound",
      "provider": "edge",
      "edge": {
        "enabled": true,
        "voice": "en-GB-RyanNeural"
      }
    }
  },
  "commands": {
    "native": "auto",
    "nativeSkills": "auto",
    "text": true,
    "bash": false,
    "config": true,
    "restart": true
  },
  "hooks": {
    "internal": {
      "enabled": true,
      "entries": {
        "boot-md": {
          "enabled": true
        },
        "bootstrap-extra-files": {
          "enabled": true
        }
      }
    }
  },
  "channels": {
    "telegram": {
      "enabled": true,
      "dmPolicy": "pairing",
      "groupPolicy": "allowlist",
      "streamMode": "partial"
    }
  },
  "gateway": {
    "port": 18789,
    "mode": "local",
    "bind": "lan",
    "controlUi": {
      "enabled": true,
      "dangerouslyDisableDeviceAuth": true
    },
    "auth": {
      "mode": "password",
      "password": "${OPENCLAW_GATEWAY_PASSWORD}",
      "allowTailscale": true
    },
    "trustedProxies": ["127.0.0.1", "::1"],
    "tailscale": {
      "mode": "off",
      "resetOnExit": false
    }
  },
  "skills": {
    "install": {
      "nodeManager": "npm"
    }
  },
  "plugins": {
    "entries": {
      "telegram": {
        "enabled": true
      }
    }
  },
  "browser": {
    "enabled": true,
    "headless": true,
    "noSandbox": false,
    "defaultProfile": "remote",
    "profiles": {
      "remote": {
        "cdpUrl": "https://production-ams.browserless.io/?token=${BROWSERLESS_API_TOKEN}&stealth=true&blockAds=true",
        "color": "#00AA00"
      },
      "local": {
        "cdpPort": 18800,
        "color": "#FF0000"
      }
    }
  }
}
